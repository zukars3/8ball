<html>
    <head>
        <link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet'>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    </head>
    <body>
        <div class="container">
            <div class="big-circle" id="big-circle">
                <div class="small-circle">
                    <div class="triangle">
                        <div class="triangle-text" id="ball-text">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="question-container">
            <div class="question-input-container">
                <input type="text" class="question-input" id="question" oninput="checkInput()">
                <button class="ask-button" id="ask-button" onclick="getAnswer()" disabled>...?</button>
            </div>
            <div class="question-history">
                <div id="history"></div>
            </div>
        </div>
    </body>
</html>

<style>
:root {
    --triangle-color: rgba(0, 0, 255, 0.8);
    --text-color: rgba(0, 0, 255, 1);
}

html {
    background: radial-gradient(circle at top left, rgba(255, 255, 255, 0.6) 10%, black 60%);
    background-size: 125% 125%;
}

body {
    font-family: 'Raleway';
    height: 100%;
    margin: 0;
    padding: 0;
}

.question-container {
    height: 50%;
    position: absolute;
    top: 25%;
    left: 5%;
    width: 15%;
    padding: 15px;
    border-radius: 5px;
    z-index: 2;
}

.question-input-container {
    display: flex;
    gap: 5px;
}

.question-input {
    width: 100%;
    border-radius: 5px;
    background-color: rgb(36, 36, 36);
    color: white;
    font-family: 'Raleway';
    border: 1px solid black;
    border-radius: 5px;
    height: 30px;
    font-family: 'Raleway';
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
}

.ask-button {
    font-family: 'Raleway';
    height: 30px;
    width: 30px;
    border-radius: 5px;
    background-color: rgb(36, 36, 36);
    color: white;
    text-align: center;
}

.question-history {
    color: rgb(36, 36, 36);
}

#history {
    max-height: calc(100% - 30px);
    overflow-y: auto;
    margin-top: 10px;
    margin-right: -10px;
    overflow-wrap: break-word;
}

.history-item {
    margin-top: 10px;
}

.history-question {
    font-weight: bold;
}

.history-answer {
    font-style: italic;
}

.container {
    width: 100%;
    height: 100%;
    text-align: center;
    position: relative;
    z-index: 1;
}

.big-circle {
    height: 48vw;
    width: 48vw;
    background: radial-gradient(circle at top left, rgba(255, 255, 255, 0.6) 10%, black 70%);
    border-radius: 50%;
    display: inline-block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    margin: auto;
}

.small-circle {
    height: 26vw;
    width: 26vw;
    background-color: black;
    border-radius: 50%;
    display: inline-block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    margin: auto;
    box-shadow: 0px 0px 20px rgba(255, 255, 255, 0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    background: radial-gradient(circle, var(--triangle-color) 0%, black 60%);
}

.triangle {
    margin-top: 6vw;
    width: 0;
    height: 0;
    border-left: 10vw solid transparent;
    border-right: 10vw solid transparent;
    border-top: 15vw solid black;
    filter: drop-shadow(0px 0px 5px var(--triangle-color));
    background-color: radial-gradient(circle, var(--triangle-color) 0%, black 80%);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s ease;
    transition: filter 0.3s ease;
}

.triangle-text {
    min-width: 9vw;
    margin-top: -20vw;
    font-size: 1.7vw;
    color: var(--text-color);
    font-weight: bold;
    text-align: center;
    transition: color 0.3s ease;
}

::-webkit-scrollbar {
    width: 5px;
}

::-webkit-scrollbar-thumb {
    border-radius: 4px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0);
}

::-webkit-scrollbar-thumb {
    background: darkgray;
}

::-webkit-scrollbar-thumb:hover {
    background: lightgray;
}

@keyframes diagonalShake {
  0% {
    transform: translate(0, 0);
  }
  10% {
    transform: translate(12px, -12px);
  }
  20% {
    transform: translate(-12px, 12px);
  }
  30% {
    transform: translate(12px, -12px);
  }
  40% {
    transform: translate(-10px, 10px);
  }
  50% {
    transform: translate(10px, -10px);
  }
  60% {
    transform: translate(-10px, 10px);
  }
  70% {
    transform: translate(5px, -5px);
  }
  80% {
    transform: translate(-5px, 5px);
  }
  90% {
    transform: translate(5px, -5px);
  }
  100% {
    transform: translate(0, 0);
  }
}

.shake-element {
  display: inline-block;
}

.shaking {
  animation: diagonalShake 2s ease-in-out;
}

@media only screen and (max-device-width: 768px) {
    .question-container {
        height: 30vh;
        position: relative;
        top: 2%;
        left: 5vw;
        width: 85vw;
    }

    .question-input-container {
        display: flex;
        gap: 15px;
    }

    .question-input {
        background-color: rgb(36, 36, 36);
        color: white;
        height: 60px;
        font-size: 3vw;
    }

    .ask-button {
        height: 60px;
        width: 75px;
        font-size: 4vw;
    }

    #history {
        max-height: calc(100% - 60px);
    }
    
    .question-history {
        color: white;
    }
    
    .container {
        width: 100%;
        height: auto;
        text-align: center;
        position: relative;
        z-index: 1;
    }

    .big-circle {
        height: 90vw;
        width: 90vw;
        top: 10;
        position: relative;
    }
    
    .small-circle {
        height: 48vw;
        width: 48vw;
    }

    .triangle {
        border-left: 18vw solid transparent;
        border-right: 18vw solid transparent;
        border-top: 28vw solid black;
    }

    .triangle-text {
        min-width: 19vw;
        margin-top: -37vw;
        font-size: 3vw;
    }
}
</style>

<script>
let questionHistory = []
let input = document.getElementById('question')
let askButton = document.getElementById('ask-button')
let history = document.getElementById('history')
let ballText = document.getElementById('ball-text')
let ball = document.getElementById('big-circle')

function typePlaceholder(text, callback) {
    let i = 0

    const typing = setInterval(() => {
        input.placeholder = text.slice(0, i)

        i++

        if (i > text.length) {
            clearInterval(typing)
            if (callback) callback()
        }
    }, 75)
}

function deletePlaceholder(callback) {
    let i = input.placeholder.length

    const deleting = setInterval(() => {
        input.placeholder = input.placeholder.slice(0, i)

        i--
        
        if (i < 0) {
            clearInterval(deleting)
            if (callback) callback()
        }
    }, 25)
}

const responses = [
    'It is certain',
    'It is decidedly so',
    'Without a doubt',
    'Yes - definitely',
    'You may rely on it',
    'As I see it, yes',
    'Most likely',
    'Outlook good',
    'Yes',
    'Signs point to yes',
    'Reply hazy, try again',
    'Ask again later',
    'Better not tell you now',
    'Cannot predict now',
    'Concentrate and ask again',
    "Don't count on it",
    'My reply is no',
    'My sources say no',
    'Outlook not so good',
    'Very doubtful',
    'No'
]

const funnyQuestions = [
    "Will I ever be rich?",
    "Is my pet judging me?",
    "Do I have a chance with my crush?",
    "Will my WiFi ever behave?",
    "Should I become a professional napper?",
    "Is my fridge just a condiment graveyard?",
    "Am I actually a highly evolved potato?",
    "Will I ever stop procrastinating?",
    "Is my cat planning world domination?",
    "Should I buy that useless gadget?",
    "Will my phone battery last a day?",
    "Can I survive on pizza alone?",
    "Will my jokes ever be funny?",
    "Is my search history suspicious?",
    "Should I text my crush?",
    "Will I stick to my resolutions?",
    "Is my mirror reflection judging me?",
    "Should I trust my cooking skills?",
    "Will my plants ever forgive me?",
    "Am I the main character or comic relief?",
    "Will I ever wake up on time?",
    "Is my dog smarter than me?",
    "Should I start a band?",
    "Will I ever find my other sock?",
    "Can I pull off a mullet?",
    "Should I become a meme?",
    "Is my boss spying on me?",
    "Will I ever win the lottery?",
    "Does my goldfish remember me?",
    "Will I ever finish my to-do list?",
    "Should I trust my GPS?",
    "Is my WiFi out to get me?",
    "Will I ever stop binge-watching?",
    "Do my neighbors hate me?",
    "Is my bed secretly a black hole?",
    "Will my car survive another winter?",
    "Should I adopt 10 more cats?",
    "Does my plant think I'm its enemy?",
    "Will I ever stop eating snacks?",
    "Am I just a background character?",
    "Am I just a glitch in the system?",
    "Will my sleep schedule ever recover?",
    "Is my boss secretly a robot?",
    "Will I ever escape the friend zone?",
    "Is my phone listening to me?",
    "Will my student loans outlive me?",
    "Am I just a cog in the machine?",
    "Is my pet plotting my demise?",
    "Will I ever find true happiness?",
    "Does my house have a ghost?",
    "Will I ever be free from emails?",
    "Am I living in a simulation?",
    "Is my browser history my downfall?",
    "Will I ever stop overthinking?",
    "Is my soul just on backorder?",
    "Should I be worried about AI?",
    "Will my car break down tomorrow?",
    "Am I one bad day from a villain arc?",
    "Is my job slowly stealing my soul?",
    "Will I ever win an argument?"
]

typePlaceholder(funnyQuestions[Math.floor(Math.random() * 59)])

setInterval(() => {
    deletePlaceholder(() => {
        typePlaceholder(funnyQuestions[Math.floor(Math.random() * 59)])
    })
}, 7000)

function checkInput() {
    let userInput = input.value

    askButton.disabled = userInput.length < 1
}

function delay(ms) {
    return new Promise((resolve, reject) => setTimeout(resolve, ms))
}

async function getAnswer() {
    askButton.disabled = true
    input.disabled = true

    ball.classList.add('shaking')

    ball.addEventListener('animationend', () => {
      ball.classList.remove('shaking')
    })

    for (let i = 0; i < 20; i++) {
        let number = Math.floor(Math.random() * 20)

        result = responses[number]

        setTimeout(() => {
            ballText.innerHTML = result

            if (number < 10) {
                document.documentElement.style.setProperty('--triangle-color', 'green');
                document.documentElement.style.setProperty('--text-color', 'green');
            } else if (number < 15) {
                document.documentElement.style.setProperty('--triangle-color', 'yellow');
                document.documentElement.style.setProperty('--text-color', 'yellow');
            } else {
                document.documentElement.style.setProperty('--triangle-color', 'red');
                document.documentElement.style.setProperty('--text-color', 'red');
            }
        }, 15 * i)

        await delay(15 * i)
    }
    
    questionHistory.unshift({
        question: input.value,
        answer: '- ' + result
    })

    history.innerHTML = questionHistory.map((item) => `<div class="history-item"><div class="history-question">${item.question}</div><div class="history-answer">${item.answer}</div></div>`).join('');
    input.value = ''
    input.disabled = false

    checkInput()
}
</script>